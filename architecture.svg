<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="400" y="30" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">
    AI Chatbot Backend Architecture
  </text>
  
  <!-- Client Layer -->
  <rect x="325" y="60" width="150" height="60" fill="#4A90E2" stroke="#333" stroke-width="2" rx="5"/>
  <text x="400" y="95" font-size="16" font-weight="bold" text-anchor="middle" fill="white">Client</text>
  
  <!-- Arrow -->
  <line x1="400" y1="120" x2="400" y2="150" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- API Layer -->
  <rect x="50" y="150" width="700" height="180" fill="#F5F5F5" stroke="#333" stroke-width="2" rx="5"/>
  <text x="400" y="175" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">FastAPI Backend</text>
  
  <!-- API Endpoints -->
  <rect x="80" y="190" width="150" height="50" fill="#50C878" stroke="#333" stroke-width="1" rx="3"/>
  <text x="155" y="220" font-size="14" text-anchor="middle" fill="white">Chat Endpoint</text>
  
  <rect x="250" y="190" width="150" height="50" fill="#50C878" stroke="#333" stroke-width="1" rx="3"/>
  <text x="325" y="220" font-size="14" text-anchor="middle" fill="white">Document Upload</text>
  
  <rect x="420" y="190" width="150" height="50" fill="#50C878" stroke="#333" stroke-width="1" rx="3"/>
  <text x="495" y="220" font-size="14" text-anchor="middle" fill="white">Session Mgmt</text>
  
  <!-- RAG Service -->
  <rect x="80" y="260" width="490" height="50" fill="#FF6B6B" stroke="#333" stroke-width="1" rx="3"/>
  <text x="325" y="285" font-size="14" font-weight="bold" text-anchor="middle" fill="white">RAG Service</text>
  <text x="325" y="300" font-size="11" text-anchor="middle" fill="white">(Retrieval â€¢ History â€¢ Generation)</text>
  
  <!-- LLM Service -->
  <rect x="590" y="260" width="140" height="50" fill="#9B59B6" stroke="#333" stroke-width="1" rx="3"/>
  <text x="660" y="280" font-size="12" font-weight="bold" text-anchor="middle" fill="white">LLM Service</text>
  <text x="660" y="295" font-size="10" text-anchor="middle" fill="white">OpenAI/Gemini</text>
  <text x="660" y="307" font-size="10" text-anchor="middle" fill="white">/Anthropic</text>
  
  <!-- Arrow to Database -->
  <line x1="400" y1="330" x2="400" y2="360" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Database Layer -->
  <rect x="200" y="360" width="400" height="180" fill="#E8F4F8" stroke="#333" stroke-width="2" rx="5"/>
  <text x="400" y="385" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">PostgreSQL + pgvector</text>
  
  <!-- Database Tables -->
  <rect x="230" y="400" width="140" height="60" fill="#3498DB" stroke="#333" stroke-width="1" rx="3"/>
  <text x="300" y="420" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Sessions</text>
  <text x="300" y="435" font-size="10" text-anchor="middle" fill="white">Session metadata</text>
  <text x="300" y="448" font-size="10" text-anchor="middle" fill="white">& tracking</text>
  
  <rect x="390" y="400" width="140" height="60" fill="#3498DB" stroke="#333" stroke-width="1" rx="3"/>
  <text x="460" y="420" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Messages</text>
  <text x="460" y="435" font-size="10" text-anchor="middle" fill="white">Conversation</text>
  <text x="460" y="448" font-size="10" text-anchor="middle" fill="white">history</text>
  
  <rect x="230" y="470" width="140" height="60" fill="#3498DB" stroke="#333" stroke-width="1" rx="3"/>
  <text x="300" y="490" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Documents</text>
  <text x="300" y="505" font-size="10" text-anchor="middle" fill="white">Uploaded files</text>
  <text x="300" y="518" font-size="10" text-anchor="middle" fill="white">& content</text>
  
  <rect x="390" y="470" width="140" height="60" fill="#3498DB" stroke="#333" stroke-width="1" rx="3"/>
  <text x="460" y="490" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Doc Chunks</text>
  <text x="460" y="505" font-size="10" text-anchor="middle" fill="white">Vector</text>
  <text x="460" y="518" font-size="10" text-anchor="middle" fill="white">embeddings</text>
  
  <!-- Features box -->
  <rect x="50" y="560" width="700" height="30" fill="#FFF3CD" stroke="#FFC107" stroke-width="2" rx="3"/>
  <text x="400" y="580" font-size="12" text-anchor="middle" fill="#856404">
    ğŸ” RAG â€¢ ğŸ’¬ Chat History â€¢ ğŸ¯ Session Management â€¢ ğŸ”Œ Multi-LLM Support â€¢ ğŸ³ Docker Ready
  </text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333" />
    </marker>
  </defs>
</svg>
